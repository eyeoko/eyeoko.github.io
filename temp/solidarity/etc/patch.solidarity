% solidarity patch example

'https://josd.github.io/ns#directive'(dynamic('https://josd.github.io/ns#familyName'/2),-).
'https://josd.github.io/ns#directive'(dynamic('https://josd.github.io/ns#givenName'/2),-).
'https://josd.github.io/ns#directive'(dynamic('https://josd.github.io/ns#patched'/2),-).

'https://josd.github.io/ns#directive'(discontiguous('https://josd.github.io/ns#familyName'/2),-).
'https://josd.github.io/ns#directive'(discontiguous('https://josd.github.io/ns#givenName'/2),-).

'https://josd.github.io/ns#familyName'('https://josd.github.io/ns#pers001',"Garcia").
'https://josd.github.io/ns#givenName'('https://josd.github.io/ns#pers001',"Claudia").
'https://josd.github.io/ns#familyName'('https://josd.github.io/ns#pers002',"Cardinale").
'https://josd.github.io/ns#givenName'('https://josd.github.io/ns#pers002',"Claudia").

'https://josd.github.io/ns#patch'((
    'http://www.w3.org/1999/02/22-rdf-syntax-ns#type'(Patch,'http://www.w3.org/ns/solid/terms#InsertDeletePatch'),
    'http://www.w3.org/ns/solid/terms#where'(Patch,'https://josd.github.io/ns#familyName'(Person,"Garcia")),
    'http://www.w3.org/ns/solid/terms#inserts'(Patch,'https://josd.github.io/ns#givenName'(Person,"Alex")),
    'http://www.w3.org/ns/solid/terms#deletes'(Patch,'https://josd.github.io/ns#givenName'(Person,"Claudia"))),-).

'https://josd.github.io/ns#patch'((
    'http://www.w3.org/1999/02/22-rdf-syntax-ns#type'(Patch,'http://www.w3.org/ns/solid/terms#InsertDeletePatch'),
    'http://www.w3.org/ns/solid/terms#where'(Patch,Where),
    'http://www.w3.org/ns/solid/terms#inserts'(Patch,Inserts),
    'http://www.w3.org/ns/solid/terms#deletes'(Patch,Deletes)),-),
'https://josd.github.io/ns#builtin'(call(Where),-),
'https://josd.github.io/ns#builtin'(retract(Deletes),-),
'https://josd.github.io/ns#builtin'(assertz(Inserts),-)
    => 'https://josd.github.io/ns#patched'(Patch,-).

'https://josd.github.io/ns#familyName'(_Person,_FamilyName) => true.
'https://josd.github.io/ns#givenName'(_Person,_GivenName) => true.
